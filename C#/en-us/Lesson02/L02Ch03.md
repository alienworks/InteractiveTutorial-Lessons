---
title: "Exception Handling & Runtime Class"
actions: ['checkAnswer', 'hints']
material: 
  editor:
    language: c#
    startingCode: |

        public static void Main(string alienName) 
        {
            uint xna = FindXna(RandomNumber());
            Alien.counter = Alien.counter + 1; 
            Alien someAlien = new Alien
            {
                Xna = xna, 
                AlienName = alienName, 
                Id = Alien.counter
            };
            Runtime.Notify("Alien created, ID: " + someAlien.id);
        }

        public static void GenerateAlien(string alienName, byte[] owner)
        {

        }
    
    answer: > 

        public static object Main(string method, params object[] args) 
        {
            if (Runtime.Trigger == TriggerType.Application) 
            {
                switch (method) 
                {
                    case "generateAlien":
                        return GenerateAlien((string)args[0], (byte[])args[1]); 
                }
            }
            return false; 
        }
        
        public static void GenerateAlien(string alienName, byte[] owner)
        {
            if (owner.Length != 20)
                throw new InvalidOperationException("The parameter owner SHOULD be 20-byte addresses.");
            if (!Runtime.CheckWitness(owner)) return false;

            uint xna = FindXna(RandomNumber()); 
            Alien.counter = Alien.counter + 1; 
            Alien someAlien = new Alien
            {
                Xna = xna, 
                AlienName = alienName, 
                Id = Alien.counter
            };
            Runtime.Notify("Alien created, ID: " + someAlien.id);
        }

---

# Exceptions & Runtime Class

### Throwing Exceptions

### Neo.Runtime Class

[Neo.SmartContract.Framework.Services.Neo.Runtime](https://docs.neo.org/docs/en-us/reference/scapi/fw/dotnet/neo/Runtime.html#method)

## Instructions

- In the main method, check if runtime trigger type is application. If it is, run the switch statement. If not, return false. 
- In the `GenerateAlien()` method, check if variable `owner` is the desired length(20). If not, raise an InvalidOperationException with the message: "The parameter owner SHOULD be 20-byte addresses."
- In the same method, use `CheckWitness` to check the validity of `owner`. If the check fails, return false. 